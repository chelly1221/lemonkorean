# æŸ æª¬éŸ©è¯­ (Lemon Korean)

> ë‹¤êµ­ì–´ í•œêµ­ì–´ í•™ìŠµ í”Œë«í¼ | Multi-language Korean Learning Platform

---

## ğŸ“– í”„ë¡œì íŠ¸ ì†Œê°œ

**æŸ æª¬éŸ©è¯­ (Lemon Korean)** ëŠ” ì „ ì„¸ê³„ í•™ìŠµìë¥¼ ìœ„í•´ ì„¤ê³„ëœ í•œêµ­ì–´ í•™ìŠµ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ, ì˜¤í”„ë¼ì¸ ìš°ì„  ì•„í‚¤í…ì²˜ë¥¼ ì±„íƒí•˜ì—¬ ë ˆìŠ¨ ë‹¤ìš´ë¡œë“œ í›„ ë„¤íŠ¸ì›Œí¬ ì—†ì´ í•™ìŠµí•˜ê³ , ë„¤íŠ¸ì›Œí¬ ë³µêµ¬ ì‹œ ìë™ìœ¼ë¡œ ì§„ë„ë¥¼ ë™ê¸°í™”í•©ë‹ˆë‹¤. 6ê°œ ì–¸ì–´ë¡œ ì½˜í…ì¸ ë¥¼ ì œê³µí•˜ì—¬ êµ­ì œì ì¸ ì‚¬ìš©ìì¸µì„ ì§€ì›í•©ë‹ˆë‹¤.

### âœ¨ í•µì‹¬ íŠ¹ì§•

- **ğŸ”Œ ì˜¤í”„ë¼ì¸ ìš°ì„  í•™ìŠµ**: ë ˆìŠ¨ ë‹¤ìš´ë¡œë“œ í›„ ì¸í„°ë„· ì—†ì´ í•™ìŠµ ê°€ëŠ¥
- **ğŸ”„ ìë™ ë™ê¸°í™”**: ë„¤íŠ¸ì›Œí¬ ë³µêµ¬ ì‹œ í•™ìŠµ ì§„ë„ ìë™ ë°±ì—…
- **ğŸŒ ì™„ì „í•œ ë‹¤êµ­ì–´ ì§€ì›**: 6ê°œ ì–¸ì–´ ì½˜í…ì¸  (í•œêµ­ì–´, ì˜ì–´, ìŠ¤í˜ì¸ì–´, ì¼ë³¸ì–´, ì¤‘êµ­ì–´ ê°„ì²´/ë²ˆì²´)
- **ğŸ‡¨ğŸ‡³ í•œì ë¬¸í™”ê¶Œ ìµœì í™”**: í•œì ì—°ê²°, ë°œìŒ ìœ ì‚¬ë„ ë¹„êµ, ê°„ì²´/ë²ˆì²´ ìë™ ë³€í™˜
- **ğŸ“± ëª°ì…í˜• ê²½í—˜**: í’€ìŠ¤í¬ë¦° í•™ìŠµ ëª¨ë“œ, ì§‘ì¤‘ í•™ìŠµ
- **ğŸ—ï¸ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜**: í™•ì¥ ê°€ëŠ¥í•œ ë°±ì—”ë“œ ì‹œìŠ¤í…œ (7ê°œ ì„œë¹„ìŠ¤)
- **ğŸ¯ 7ë‹¨ê³„ ë ˆìŠ¨**: ì–´íœ˜â†’ë¬¸ë²•â†’ì—°ìŠµâ†’ëŒ€í™”â†’í€´ì¦ˆâ†’ë³µìŠµâ†’ìš”ì•½
- **ğŸ¨ í˜„ëŒ€ì  UI ë””ìì¸**: Material Design 3, ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜
- **ğŸ“Š SRS ë³µìŠµ ì‹œìŠ¤í…œ**: ì§€ëŠ¥í˜• ë³µìŠµ ì•Œë¦¼
- **ğŸ–¥ï¸ ì›¹ ì•± ì§€ì›**: Flutter ì›¹ ë¹Œë“œ, PWA ì„¤ì¹˜ ê°€ëŠ¥ (https://lemon.3chan.kr/app/)
- **ğŸ‘‹ ê°œì¸í™” ì˜¨ë³´ë”©**: 6ë‹¨ê³„ ì˜¨ë³´ë”© í”Œë¡œìš° (ì–¸ì–´ ì„ íƒâ†’ì†Œê°œâ†’ë ˆë²¨â†’ì£¼ê°„ ëª©í‘œâ†’ê°œì¸í™” ì™„ë£Œâ†’ê³„ì • ì„ íƒ)
- **ğŸ¨ ì•± í…Œë§ˆ ì»¤ìŠ¤í„°ë§ˆì´ì§•**: ê´€ë¦¬ìê°€ ìƒ‰ìƒ, ë¡œê³ , í°íŠ¸ ì„¤ì • (20+ ì˜µì…˜)
- **ğŸ”¤ í•œê¸€ í•™ìŠµ ëª¨ë“ˆ**: ë°œìŒ ê°€ì´ë“œ, í•„ê¸° ì—°ìŠµ, ì†Œë¦¬ êµ¬ë¶„ (9ê°œ ëª¨ë“œ)
- **ğŸ‹ ê²Œì„í™” ì‹œìŠ¤í…œ**: ë ˆëª¬ ë³´ìƒ, ë³´ìŠ¤ í€´ì¦ˆ, ë ˆëª¬ ë‚˜ë¬´, ë¦¬ë”ë³´ë“œ
- **ğŸ‘¥ SNS ì»¤ë®¤ë‹ˆí‹°**: ê²Œì‹œë¬¼ í”¼ë“œ, ëŒ“ê¸€, ì¢‹ì•„ìš”, ì¹œêµ¬ ê²€ìƒ‰, íŒ”ë¡œìš°
- **ğŸ’¬ ì‹¤ì‹œê°„ DM**: Socket.IO ê¸°ë°˜ 1:1 ë©”ì‹œì§• (í…ìŠ¤íŠ¸, ì´ë¯¸ì§€, ìŒì„±)
- **ğŸ¤ ìŒì„± ëŒ€í™”ë°©**: LiveKit ê¸°ë°˜ ì‹¤ì‹œê°„ ìŒì„± ì±„íŒ… (ìµœëŒ€ 4ëª…)

---

## ğŸ—ï¸ ì•„í‚¤í…ì²˜ ì„¤ê³„

### ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Flutter App                           â”‚
â”‚                (ì˜¤í”„ë¼ì¸ ìš°ì„  + ìë™ ë™ê¸°í™”)              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  Hive    â”‚  â”‚ SQLite   â”‚  â”‚   Dio    â”‚              â”‚
â”‚  â”‚ (Lessons)â”‚  â”‚ (Media)  â”‚  â”‚  (HTTP)  â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†•
                  (í•„ìš”ì‹œì—ë§Œ ë™ê¸°í™”)
                          â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Nginx API Gateway                       â”‚
â”‚              (í¬íŠ¸ 80, ë¡œë“œ ë°¸ëŸ°ì‹± + ìºì‹±)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“                 â†“                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Auth Service â”‚  â”‚Content Serviceâ”‚ â”‚Progress Serviceâ”‚
â”‚  (Node.js)   â”‚  â”‚  (Node.js)    â”‚ â”‚     (Go)      â”‚
â”‚   :3001      â”‚  â”‚    :3002      â”‚ â”‚    :3003      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“                 â†“                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Media Serviceâ”‚  â”‚Analytics Svc â”‚  â”‚ Admin Serviceâ”‚
â”‚     (Go)     â”‚  â”‚   (Python)   â”‚  â”‚  (Node.js)   â”‚
â”‚   :3004      â”‚  â”‚    :3005     â”‚  â”‚    :3006     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ SNS Service  â”‚
                  â”‚  (Node.js)   â”‚
                  â”‚    :3007     â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†•           â†•
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚Socket.IO â”‚  â”‚ LiveKit  â”‚
            â”‚  (DM)    â”‚  â”‚ (Voice)  â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“                 â†“                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ë°ì´í„° ë ˆì´ì–´                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚PostgreSQLâ”‚  â”‚ MongoDB  â”‚  â”‚ Redis  â”‚  â”‚  MinIO   â”‚ â”‚
â”‚  â”‚  :5432   â”‚  â”‚  :27017  â”‚  â”‚ :6379  â”‚  â”‚:9000/9001â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚  â”‚ RabbitMQ â”‚  (ë©”ì‹œì§€ í)                              â”‚
â”‚  â”‚  :5672   â”‚                                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë°ì´í„° íë¦„

```
ì‚¬ìš©ì ë™ì‘ â†’ ë¡œì»¬ ì €ì¥ (Hive/SQLite)
                â†“
        ë™ê¸°í™” íì— ì¶”ê°€ (sync_queue)
                â†“
        ë„¤íŠ¸ì›Œí¬ ê°€ëŠ¥? â”€â”€Noâ†’ í ìœ ì§€
                â”‚
               Yes
                â†“
        ë°±ê·¸ë¼ìš´ë“œ ìë™ ë™ê¸°í™” â†’ API Gateway (Nginx)
                â†“
        ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì²˜ë¦¬ â†’ ë°ì´í„°ë² ì´ìŠ¤ ì˜ì†í™”
                â†“
        í™•ì¸ ì‘ë‹µ â†’ í í•­ëª© ì œê±°
```

---

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ

### ë°±ì—”ë“œ ì„œë¹„ìŠ¤

| ì„œë¹„ìŠ¤ | ê¸°ìˆ  ìŠ¤íƒ | í¬íŠ¸ | ê¸°ëŠ¥ |
|------|--------|------|------|
| **Auth Service** | Node.js + Express | 3001 | JWT ì¸ì¦, ì‚¬ìš©ì ê´€ë¦¬ |
| **Content Service** | Node.js + Express | 3002 | ë ˆìŠ¨ ì½˜í…ì¸ , ì–´íœ˜, ë¬¸ë²• |
| **Progress Service** | Go + Gin | 3003 | í•™ìŠµ ì§„ë„, SRS ì•Œê³ ë¦¬ì¦˜ |
| **Media Service** | Go + Gin | 3004 | ì´ë¯¸ì§€/ì˜¤ë””ì˜¤ ì„œë¹™ |
| **Analytics Service** | Python + FastAPI | 3005 | ë¡œê·¸ ë¶„ì„, í†µê³„ |
| **Admin Service** | Node.js + Express | 3006 | ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ |
| **SNS Service** | Node.js + Express | 3007 | ì»¤ë®¤ë‹ˆí‹° í”¼ë“œ, ê²Œì‹œë¬¼, ëŒ“ê¸€, íŒ”ë¡œìš°, DM, ìŒì„±ëŒ€í™”ë°© |

### ë°ì´í„°ë² ì´ìŠ¤ ë° ìŠ¤í† ë¦¬ì§€

| êµ¬ì„± ìš”ì†Œ | í¬íŠ¸ | ìš©ë„ |
|------|------|------|
| **PostgreSQL** | 5432 | êµ¬ì¡°í™”ëœ ë°ì´í„° (users, lessons, progress) |
| **MongoDB** | 27017 | ë¬¸ì„œ ì €ì¥ì†Œ (lesson content, logs) |
| **Redis** | 6379 | ìºì‹œ, ì„¸ì…˜, ì‹¤ì‹œê°„ ë°ì´í„° |
| **MinIO** | 9000/9001 | ë¯¸ë””ì–´ íŒŒì¼ (S3 í˜¸í™˜) |
| **RabbitMQ** | 5672/15672 | ë©”ì‹œì§€ í, ë¹„ë™ê¸° ì‘ì—… |

### ëª¨ë°”ì¼

- **Flutter 3.x** - Android/ì›¹ í¬ë¡œìŠ¤ í”Œë«í¼
- **Hive** - ë¡œì»¬ NoSQL ë°ì´í„°ë² ì´ìŠ¤ (ë ˆìŠ¨, ì§„ë„)
- **SQLite** - ë¯¸ë””ì–´ íŒŒì¼ ë§¤í•‘
- **Dio** - HTTP í´ë¼ì´ì–¸íŠ¸
- **Provider** - ìƒíƒœ ê´€ë¦¬
- **flutter_animate** - ì• ë‹ˆë©”ì´ì…˜ ë¼ì´ë¸ŒëŸ¬ë¦¬
- **audioplayers** - ì˜¤ë””ì˜¤ ì¬ìƒ
- **flutter_localizations** - ë‹¤êµ­ì–´ ì§€ì› (6ê°œ ì–¸ì–´)
- **flutter_open_chinese_convert** - ê°„ì²´/ë²ˆì²´ ë³€í™˜
- **socket_io_client** - Socket.IO ì‹¤ì‹œê°„ ë©”ì‹œì§• (DM)
- **livekit_client** - LiveKit ìŒì„± ëŒ€í™”ë°©

### ì¸í”„ë¼

- **Docker & Docker Compose** - ì»¨í…Œì´ë„ˆí™” ë°°í¬
- **Nginx** - API ê²Œì´íŠ¸ì›¨ì´, ë¡œë“œ ë°¸ëŸ°ì‹±, ìºì‹±
- **RabbitMQ** - ë©”ì‹œì§€ í

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- **Docker** 20.x+ & **Docker Compose** 2.x+
- **Node.js** 18+ (ê°œë°œìš©)
- **Go** 1.21+ (ê°œë°œìš©)
- **Python** 3.11+ (ê°œë°œìš©)
- **Flutter** 3.x (ëª¨ë°”ì¼ ì•± ê°œë°œ)

### ì„¤ì¹˜ ë‹¨ê³„

#### 1ï¸âƒ£ ì €ì¥ì†Œ í´ë¡ 

```bash
git clone https://github.com/chelly1221/lemonkorean.git
cd lemonkorean
```

#### 2ï¸âƒ£ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
cp .env.example .env
```

`.env` íŒŒì¼ì„ í¸ì§‘í•˜ì—¬ í•„ìš”í•œ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •:

```env
# ë°ì´í„°ë² ì´ìŠ¤
DB_PASSWORD=your_secure_password
POSTGRES_DB=lemon_korean
POSTGRES_USER=3chan

# JWT
JWT_SECRET=your_jwt_secret_key
JWT_EXPIRES_IN=7d

# MinIO
MINIO_ACCESS_KEY=admin
MINIO_SECRET_KEY=your_secure_key
```

#### 3ï¸âƒ£ ì„œë¹„ìŠ¤ ì‹œì‘

**ë°©ë²• 1: ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš© (ê¶Œì¥)**

```bash
./scripts/deploy.sh
```

ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” ë‹¤ìŒì„ ìë™ìœ¼ë¡œ ìˆ˜í–‰í•©ë‹ˆë‹¤:
- âœ… í™˜ê²½ ë³€ìˆ˜ ê²€ì¦
- âœ… Docker ì´ë¯¸ì§€ ë¹Œë“œ
- âœ… ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
- âœ… ì„œë¹„ìŠ¤ ì‹œì‘
- âœ… í—¬ìŠ¤ ì²´í¬

**ë°©ë²• 2: ìˆ˜ë™ ì‹œì‘**

```bash
# ëª¨ë“  ì„œë¹„ìŠ¤ ë¹Œë“œ ë° ì‹œì‘
docker-compose up -d

# ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
docker-compose ps

# ë¡œê·¸ í™•ì¸
./scripts/logs.sh
# ë˜ëŠ”
docker-compose logs -f
```

#### 4ï¸âƒ£ ì„œë¹„ìŠ¤ í™•ì¸

ë‹¤ìŒ ì£¼ì†Œë¡œ ì ‘ì†í•˜ì—¬ ì„œë¹„ìŠ¤ ì •ìƒ ì‘ë™ í™•ì¸:

- **API ê²Œì´íŠ¸ì›¨ì´**: http://localhost
- **MinIO ì½˜ì†”**: http://localhost:9001
- **RabbitMQ ê´€ë¦¬ UI**: http://localhost:15672 (ê³„ì •: guest, ë¹„ë°€ë²ˆí˜¸: guest)

í—¬ìŠ¤ ì²´í¬ ì—”ë“œí¬ì¸íŠ¸:
```bash
# Auth Service
curl http://localhost:3001/health

# Content Service
curl http://localhost:3002/health

# Progress Service
curl http://localhost:3003/health
```

#### 5ï¸âƒ£ Flutter ì•± ì‹¤í–‰

```bash
cd mobile/lemon_korean
flutter pub get
flutter run
```

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
lemonkorean/
â”œâ”€â”€ services/                    # ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ auth/                   # ì¸ì¦ ì„œë¹„ìŠ¤ (Node.js)
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ controllers/   # ìš”ì²­ ì²˜ë¦¬
â”‚   â”‚   â”‚   â”œâ”€â”€ services/      # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”‚   â”œâ”€â”€ models/        # ë°ì´í„° ëª¨ë¸
â”‚   â”‚   â”‚   â””â”€â”€ routes/        # ë¼ìš°íŒ… ì •ì˜
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ Dockerfile
â”‚   â”œâ”€â”€ content/               # ì½˜í…ì¸  ì„œë¹„ìŠ¤ (Node.js)
â”‚   â”œâ”€â”€ progress/              # ì§„ë„ ê´€ë¦¬ (Go)
â”‚   â”œâ”€â”€ media/                 # ë¯¸ë””ì–´ ì„œë¹„ìŠ¤ (Go)
â”‚   â”œâ”€â”€ analytics/             # ë¶„ì„ ì„œë¹„ìŠ¤ (Python)
â”‚   â”œâ”€â”€ admin/                 # ê´€ë¦¬ ëŒ€ì‹œë³´ë“œ (Node.js)
â”‚   â””â”€â”€ sns/                   # SNS ì»¤ë®¤ë‹ˆí‹° ì„œë¹„ìŠ¤ (Node.js)
â”‚
â”œâ”€â”€ mobile/                     # Flutter ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â””â”€â”€ lemon_korean/
â”‚       â”œâ”€â”€ lib/
â”‚       â”‚   â”œâ”€â”€ core/          # í•µì‹¬ ê¸°ëŠ¥
â”‚       â”‚   â”‚   â”œâ”€â”€ storage/   # Hive + SQLite
â”‚       â”‚   â”‚   â”œâ”€â”€ network/   # Dio + API
â”‚       â”‚   â”‚   â””â”€â”€ utils/     # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚       â”‚   â”œâ”€â”€ data/          # ë°ì´í„° ë ˆì´ì–´
â”‚       â”‚   â”‚   â”œâ”€â”€ models/    # ë°ì´í„° ëª¨ë¸
â”‚       â”‚   â”‚   â””â”€â”€ repositories/
â”‚       â”‚   â””â”€â”€ presentation/  # í”„ë ˆì  í…Œì´ì…˜ ë ˆì´ì–´
â”‚       â”‚       â”œâ”€â”€ screens/   # í™”ë©´
â”‚       â”‚       â”œâ”€â”€ widgets/   # ìœ„ì ¯
â”‚       â”‚       â””â”€â”€ providers/ # ìƒíƒœ ê´€ë¦¬
â”‚       â”œâ”€â”€ pubspec.yaml
â”‚       â””â”€â”€ README.md
â”‚
â”œâ”€â”€ database/                   # ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”
â”‚   â”œâ”€â”€ postgres/              # PostgreSQL ìŠ¤í‚¤ë§ˆ
â”‚   â”‚   â””â”€â”€ init/
â”‚   â”‚       â”œâ”€â”€ 01_schema.sql
â”‚   â”‚       â””â”€â”€ 02_seed.sql
â”‚   â””â”€â”€ mongo/                 # MongoDB ì´ˆê¸° ë°ì´í„°
â”‚       â””â”€â”€ init/
â”‚
â”œâ”€â”€ nginx/                      # Nginx ì„¤ì •
â”‚   â””â”€â”€ nginx.conf
â”‚
â”œâ”€â”€ scripts/                    # ìš´ì˜ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ deploy.sh              # ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ backup.sh              # ë°±ì—… ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ restore.sh             # ë³µêµ¬ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ logs.sh                # ë¡œê·¸ ì¡°íšŒ
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ docs/                       # ë¬¸ì„œ
â”‚   â””â”€â”€ api/                   # API ë¬¸ì„œ
â”‚
â”œâ”€â”€ docker-compose.yml          # Docker ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
â”œâ”€â”€ .env.example               # í™˜ê²½ ë³€ìˆ˜ ì˜ˆì œ
â”œâ”€â”€ CLAUDE.md                  # ê°œë°œ ê°€ì´ë“œ
â””â”€â”€ README.md                  # ë³¸ ë¬¸ì„œ
```

---

## ğŸ“š ê°œë°œ ê°€ì´ë“œ

### ë¡œì»¬ ê°œë°œ

#### ë°±ì—”ë“œ ì„œë¹„ìŠ¤ ê°œë°œ

ê° ì„œë¹„ìŠ¤ëŠ” ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ ê°€ëŠ¥:

```bash
# Auth Service (Node.js)
cd services/auth
npm install
npm run dev

# Progress Service (Go)
cd services/progress
go mod download
go run main.go

# Analytics Service (Python)
cd services/analytics
pip install -r requirements.txt
uvicorn main:app --reload --port 3005
```

#### Flutter ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œ

```bash
cd mobile/lemon_korean
flutter pub get

# iOS ì‹œë®¬ë ˆì´í„°
flutter run

# Android ì—ë®¬ë ˆì´í„°
flutter run

# í”„ë¡œë•ì…˜ ë¹Œë“œ
flutter build apk --release
flutter build ios --release
```

### ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—…

```bash
# PostgreSQL ì ‘ì†
docker-compose exec postgres psql -U 3chan -d lemon_korean

# MongoDB ì ‘ì†
docker-compose exec mongo mongosh

# Redis ì ‘ì†
docker-compose exec redis redis-cli

# ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
docker-compose exec postgres psql -U 3chan -d lemon_korean -f /init/01_schema.sql
```

### ì½”ë“œ ê·œì¹™

#### Flutter
- `*_screen.dart` - í™”ë©´
- `*_provider.dart` - ìƒíƒœ ê´€ë¦¬
- `*_model.dart` - ë°ì´í„° ëª¨ë¸
- `*_repository.dart` - ë°ì´í„° ì ‘ê·¼
- `*_widget.dart` - ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ìœ„ì ¯

#### Backend
- `*.controller.js/go` - ìš”ì²­ ì²˜ë¦¬
- `*.service.js/go` - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
- `*.model.js/go` - ë°ì´í„° ëª¨ë¸
- `*.routes.js/go` - ë¼ìš°íŒ… ì •ì˜

---

## ğŸ” API ë¬¸ì„œ

### ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸

#### Auth Service (`:3001`)

| ë©”ì„œë“œ | ì—”ë“œí¬ì¸íŠ¸ | ì„¤ëª… |
|------|------|------|
| POST | `/api/auth/register` | ì‚¬ìš©ì ë“±ë¡ |
| POST | `/api/auth/login` | ì‚¬ìš©ì ë¡œê·¸ì¸ |
| POST | `/api/auth/refresh` | í† í° ê°±ì‹  |
| GET | `/api/auth/profile` | ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ |

#### Content Service (`:3002`)

| ë©”ì„œë“œ | ì—”ë“œí¬ì¸íŠ¸ | ì„¤ëª… |
|------|------|------|
| GET | `/api/content/lessons` | ë ˆìŠ¨ ëª©ë¡ ì¡°íšŒ |
| GET | `/api/content/lessons/:id` | ë ˆìŠ¨ ìƒì„¸ ì¡°íšŒ |
| GET | `/api/content/lessons/:id/download` | ë ˆìŠ¨ íŒ¨í‚¤ì§€ ë‹¤ìš´ë¡œë“œ |
| POST | `/api/content/check-updates` | ë ˆìŠ¨ ì—…ë°ì´íŠ¸ í™•ì¸ |

#### Progress Service (`:3003`)

| ë©”ì„œë“œ | ì—”ë“œí¬ì¸íŠ¸ | ì„¤ëª… |
|------|------|------|
| GET | `/api/progress/user/:userId` | ì‚¬ìš©ì ì§„ë„ ì¡°íšŒ |
| POST | `/api/progress/complete` | ë ˆìŠ¨ ì™„ë£Œ |
| POST | `/api/progress/sync` | ì˜¤í”„ë¼ì¸ ì§„ë„ ë™ê¸°í™” |
| GET | `/api/progress/review-schedule` | SRS ë³µìŠµ ì¼ì • |

#### Media Service (`:3004`)

| ë©”ì„œë“œ | ì—”ë“œí¬ì¸íŠ¸ | ì„¤ëª… |
|------|------|------|
| GET | `/media/images/:key` | ì´ë¯¸ì§€ ì¡°íšŒ |
| GET | `/media/audio/:key` | ì˜¤ë””ì˜¤ ì¡°íšŒ |

ìƒì„¸ API ë¬¸ì„œ: [API ë¬¸ì„œ](./docs/API.md)

---

## ğŸ§ª í…ŒìŠ¤íŠ¸

### ë°±ì—”ë“œ í…ŒìŠ¤íŠ¸

```bash
# Auth Service
docker-compose exec auth npm test

# Progress Service
cd services/progress
go test ./...

# Analytics Service
cd services/analytics
pytest
```

### Flutter í…ŒìŠ¤íŠ¸

```bash
cd mobile/lemon_korean

# ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
flutter test

# í†µí•© í…ŒìŠ¤íŠ¸
flutter test integration_test/

# í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€
flutter test --coverage
genhtml coverage/lcov.info -o coverage/html
```

---

## ğŸ› ï¸ ìš´ì˜ ë„êµ¬

### ë°±ì—… ë° ë³µêµ¬

```bash
# ë°±ì—… ìƒì„±
./scripts/backup.sh

# ì‚¬ìš© ê°€ëŠ¥í•œ ë°±ì—… ì¡°íšŒ
./scripts/restore.sh

# ë°±ì—…ì—ì„œ ë³µêµ¬
./scripts/restore.sh 20240125_020000
```

ë°±ì—… ë‚´ìš©:
- âœ… PostgreSQL ë°ì´í„°ë² ì´ìŠ¤
- âœ… MongoDB ë°ì´í„°ë² ì´ìŠ¤
- âœ… MinIO ê°ì²´ ìŠ¤í† ë¦¬ì§€
- âœ… 30ì¼ ì´ìƒ ì˜¤ë˜ëœ ë°±ì—… ìë™ ì‚­ì œ

### ë¡œê·¸ ì¡°íšŒ

```bash
# ëª¨ë“  ì„œë¹„ìŠ¤ ë¡œê·¸ ì¡°íšŒ
./scripts/logs.sh

# ì‹¤ì‹œê°„ ë¡œê·¸ ì¶”ì 
./scripts/logs.sh -f

# íŠ¹ì • ì„œë¹„ìŠ¤
./scripts/logs.sh auth

# ì§€ë‚œ 1ì‹œê°„ ë¡œê·¸
./scripts/logs.sh --since 1h content
```

### ì„œë¹„ìŠ¤ ê´€ë¦¬

```bash
# íŠ¹ì • ì„œë¹„ìŠ¤ ì¬ì‹œì‘
docker-compose restart auth

# ëª¨ë“  ì„œë¹„ìŠ¤ ì¤‘ì§€
docker-compose down

# ì™„ì „ ì •ë¦¬ (ë°ì´í„° ë³¼ë¥¨ í¬í•¨)
docker-compose down -v

# ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
docker-compose ps
```

---

## âš ï¸ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ì¼ë°˜ì ì¸ ë¬¸ì œ

#### 1. í¬íŠ¸ ì¶©ëŒ

**ì¦ìƒ**: `Error: bind: address already in use`

**í•´ê²° ë°©ë²•**:
```bash
# í¬íŠ¸ ì‚¬ìš© í™•ì¸
sudo lsof -i :5432  # PostgreSQL
sudo lsof -i :3001  # Auth Service

# ì¶©ëŒí•˜ëŠ” í”„ë¡œì„¸ìŠ¤ ì¤‘ì§€ ë˜ëŠ” docker-compose.ymlì—ì„œ í¬íŠ¸ ë§¤í•‘ ìˆ˜ì •
docker-compose down
# í¬íŠ¸ ìˆ˜ì • í›„ ì¬ì‹œì‘
docker-compose up -d
```

#### 2. Docker ë¹Œë“œ ì‹¤íŒ¨

**ì¦ìƒ**: `ERROR [internal] load metadata for docker.io/library/...`

**í•´ê²° ë°©ë²•**:
```bash
# Docker ìºì‹œ ì •ë¦¬
docker system prune -a

# ì¬ë¹Œë“œ
docker-compose build --no-cache
docker-compose up -d
```

#### 3. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨

**ì¦ìƒ**: `Error: connect ECONNREFUSED`

**í•´ê²° ë°©ë²•**:
```bash
# ë°ì´í„°ë² ì´ìŠ¤ ì»¨í…Œì´ë„ˆ ìƒíƒœ í™•ì¸
docker-compose ps postgres

# ë°ì´í„°ë² ì´ìŠ¤ ë¡œê·¸ í™•ì¸
docker-compose logs postgres

# ë°ì´í„°ë² ì´ìŠ¤ ì¬ì‹œì‘
docker-compose restart postgres

# PostgreSQL ì¤€ë¹„ ëŒ€ê¸°
docker-compose exec postgres pg_isready -U 3chan
```

#### 4. Flutter ë¹Œë“œ ì˜¤ë¥˜

**ì¦ìƒ**: `Could not resolve all dependencies`

**í•´ê²° ë°©ë²•**:
```bash
cd mobile/lemon_korean

# ìºì‹œ ì •ë¦¬
flutter clean

# ì˜ì¡´ì„± ì¬ì„¤ì¹˜
flutter pub get

# ì˜ì¡´ì„± ì—…ê·¸ë ˆì´ë“œ
flutter pub upgrade

# ì¬ì‹¤í–‰
flutter run
```

#### 5. í—¬ìŠ¤ ì²´í¬ ì‹¤íŒ¨

**ì¦ìƒ**: ì¼ë¶€ ì„œë¹„ìŠ¤ì˜ í—¬ìŠ¤ ì²´í¬ ì‹¤íŒ¨

**í•´ê²° ë°©ë²•**:
```bash
# ì‹¤íŒ¨í•œ ì„œë¹„ìŠ¤ ë¡œê·¸ í™•ì¸
./scripts/logs.sh <service-name>

# í™˜ê²½ ë³€ìˆ˜ í™•ì¸
cat .env

# ì¬ë°°í¬
./scripts/deploy.sh
```

#### 6. MinIO ì ‘ê·¼ ë¬¸ì œ

**ì¦ìƒ**: MinIO ì½˜ì†” ì ‘ê·¼ ë¶ˆê°€ ë˜ëŠ” íŒŒì¼ ì—…ë¡œë“œ ì‹¤íŒ¨

**í•´ê²° ë°©ë²•**:
```bash
# MinIO ìƒíƒœ í™•ì¸
curl http://localhost:9000/minio/health/live

# MinIO ë¡œê·¸ í™•ì¸
docker-compose logs minio

# ì¸ì¦ ì •ë³´ ì¬ì„¤ì • (.envì—ì„œ)
MINIO_ACCESS_KEY=admin
MINIO_SECRET_KEY=your_secure_key

# MinIO ì¬ì‹œì‘
docker-compose restart minio
```

#### 7. ë°±ì—… ì‹¤íŒ¨

**ì¦ìƒ**: `backup.sh` ì‹¤í–‰ ì‹¤íŒ¨

**í•´ê²° ë°©ë²•**:
```bash
# ë””ìŠ¤í¬ ê³µê°„ í™•ì¸
df -h

# ì»¨í…Œì´ë„ˆ ì‹¤í–‰ ìƒíƒœ í™•ì¸
docker-compose ps

# ë°±ì—… ë””ë ‰í† ë¦¬ ê¶Œí•œ í™•ì¸
ls -la backups/

# ë°±ì—… ë””ë ‰í† ë¦¬ ìˆ˜ë™ ìƒì„±
mkdir -p backups/{postgres,mongo,minio}
```

### ë¡œê·¸ ìœ„ì¹˜

```bash
# ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸
docker-compose logs <service-name>

# ë°±ì—… ë¡œê·¸
/var/log/lemon_korean_backup.log

# Nginx ë¡œê·¸
docker-compose logs nginx

# ì‹œìŠ¤í…œ ë¡œê·¸
journalctl -u docker
```

### ì„±ëŠ¥ ìµœì í™”

#### ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”

```sql
-- PostgreSQL ì¸ë±ìŠ¤ ìµœì í™”
CREATE INDEX idx_user_progress_user_id ON user_progress(user_id);
CREATE INDEX idx_lessons_level ON lessons(level);

-- ëŠë¦° ì¿¼ë¦¬ í™•ì¸
SELECT * FROM pg_stat_statements ORDER BY mean_exec_time DESC LIMIT 10;
```

#### Redis ìºì‹œ

```bash
# ìºì‹œ ì ì¤‘ë¥  í™•ì¸
docker-compose exec redis redis-cli INFO stats | grep hit

# ìºì‹œ ë¹„ìš°ê¸°
docker-compose exec redis redis-cli FLUSHALL
```

#### Nginx ìºì‹œ

```bash
# Nginx ìºì‹œ ë¹„ìš°ê¸°
docker-compose exec nginx rm -rf /var/cache/nginx/*

# ì„¤ì • ë‹¤ì‹œ ë¡œë“œ
docker-compose exec nginx nginx -s reload
```

---

## ğŸ” ë³´ì•ˆ ê¶Œì¥ì‚¬í•­

1. **í”„ë¡œë•ì…˜ í™˜ê²½ ì„¤ì •**:
   - ê°•ë ¥í•œ ë¹„ë°€ë²ˆí˜¸ ì‚¬ìš© (ìµœì†Œ 16ì)
   - JWT_SECRET ì •ê¸°ì ìœ¼ë¡œ ë³€ê²½
   - HTTPS í™œì„±í™” (Let's Encrypt ì‚¬ìš©)
   - ë°©í™”ë²½ ê·œì¹™ ì„¤ì •

2. **ë°ì´í„° ë°±ì—…**:
   - ì •ê¸° ë°±ì—… ì„¤ì • (cron)
   - í´ë¼ìš°ë“œ ìŠ¤í† ë¦¬ì§€ë¡œ ì›ê²© ë°±ì—…
   - ë³µêµ¬ ì ˆì°¨ ì •ê¸°ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸

3. **ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼**:
   - ì„œë¹„ìŠ¤ í—¬ìŠ¤ ëª¨ë‹ˆí„°ë§ ì„¤ì •
   - ë””ìŠ¤í¬ ê³µê°„ ì•Œë¦¼
   - CPU/ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  ëª¨ë‹ˆí„°ë§

---

## ğŸ“– ìƒì„¸ ë¬¸ì„œ

- **[CLAUDE.md](./CLAUDE.md)** - ìƒì„¸ ê°œë°œ ê°€ì´ë“œ
- **[scripts/README.md](./scripts/README.md)** - ìš´ì˜ ìŠ¤í¬ë¦½íŠ¸ ë¬¸ì„œ
- **[mobile/lemon_korean/README.md](./mobile/lemon_korean/README.md)** - Flutter ì•± ë¬¸ì„œ
- **[docs/API.md](./docs/API.md)** - API ë¬¸ì„œ

---

## ğŸ—ºï¸ ê°œë°œ ë¡œë“œë§µ

- [x] **Phase 1**: ì¸ì¦ ì„œë¹„ìŠ¤ + ì½˜í…ì¸  ì„œë¹„ìŠ¤
- [x] **Phase 2**: ì§„ë„ ì„œë¹„ìŠ¤ + ë™ê¸°í™” ë©”ì»¤ë‹ˆì¦˜
- [x] **Phase 3**: Flutter ê¸°ë³¸ í™”ë©´ (ë¡œê·¸ì¸, íšŒì›ê°€ì…, í™ˆ)
- [x] **Phase 4**: ë ˆìŠ¨ 7ë‹¨ê³„ êµ¬í˜„
- [x] **Phase 5**: ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
- [x] **Phase 6**: ë°ì´í„° ë¶„ì„ ì„œë¹„ìŠ¤
- [x] **Phase 7**: í”„ë¡œë•ì…˜ ë°°í¬ + CI/CD
- [x] **Phase 8**: ê²Œì„í™” ì‹œìŠ¤í…œ (ë ˆëª¬ ë³´ìƒ, ë³´ìŠ¤ í€´ì¦ˆ, ê´‘ê³ )
- [x] **Phase 9**: SNS ì»¤ë®¤ë‹ˆí‹° (í”¼ë“œ, ê²Œì‹œë¬¼, ëŒ“ê¸€, íŒ”ë¡œìš°, ëª¨ë”ë ˆì´ì…˜)
- [x] **Phase 10**: ì‹¤ì‹œê°„ DM, ìŒì„± ëŒ€í™”ë°© (Socket.IO, LiveKit)

---

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” ê°œì¸ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

---

## ğŸ¤ ê¸°ì—¬

ì´ìŠˆ ë° í’€ ë¦¬í€˜ìŠ¤íŠ¸ í™˜ì˜í•©ë‹ˆë‹¤.

---

## ğŸ“ ë¬¸ì˜

ì§ˆë¬¸ì´ë‚˜ ì œì•ˆì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì´ìŠˆë¥¼ ë“±ë¡í•´ì£¼ì„¸ìš”.

---

**Made with â¤ï¸ for Korean learners worldwide**
